<!-- Header -->
<header>TODO List</header>
<div class="container">
  <!-- Filter and sort by -->
  <div nz-row>
    <div nz-col nzSpan="18" class="selectContainer">
      <nz-select
        nzShowSearch
        nzAllowClear
        nzPlaceHolder="Seleccione un estado"
        [(ngModel)]="selectStatus"
        (ngModelChange)="onStatusChange($event)"
      >
        <nz-option
          *ngFor="let status of filterOptions"
          nzLabel="{{ status }}"
          nzValue="{{ status }}"
        >
        </nz-option>
      </nz-select>
    </div>

    <div nz-col nzSpan="6">
      <button nz-button nzType="primary" (click)="toggleSortOrder()">
        <span nz-icon [nzType]="sortedByPendingFirst ? 'down' : 'up'" nzTheme="outline"></span>
        Ordenar
      </button>
    </div>
  </div>

  <ng-container *ngIf="filteredTaskList.length >= 1; else noTask">
    <div nz-row>
      <h2 nz-typography nz-col nzSpan="24">{{ taskListTitle | taskTitle }}</h2>
    </div>
    <app-task-list
      [taskList]="filteredTaskList"
      (editTaskEvent)="openToEditTaskForm($event)"
      (deleteTaskEvent)="deleteTask($event)"
    ></app-task-list>
  </ng-container>
  <ng-template #noTask>
    <app-no-tasks></app-no-tasks>
  </ng-template>

  <!-- Add task -->
  <div class="fab-add-task">
    <button
      nz-button
      nzType="primary"
      nzShape="circle"
      (click)="openToAddNewTaskForm()"
    >
      <span nz-icon nzType="plus" nzTheme="outline"></span>
    </button>
  </div>

  <!-- Task Form -->
  <app-task-form
    (submitTaskEvent)="registerNewOrUpdatedTask($event)"
  ></app-task-form>
</div>

<!-- Footer -->
<footer>
  <p>
    Created by: Reiwil Lugo<br />
    <a href="mailto:reiwillugo@gmail.com">reiwillugo@gmail.com</a>
  </p>
</footer>
